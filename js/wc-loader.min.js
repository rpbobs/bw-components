class ScriptLoader{constructor(e,t){this.prefix=e,this.basePath=t,this.scriptsLoaded=new Set,this.elementsProcessed=new Set}loadScripts(){let e=document.getElementsByTagName("*");Array.from(e).forEach(e=>{this.elementsProcessed.has(e)||(this.processElement(e),this.elementsProcessed.add(e))})}processElement(e){let t=e.tagName.toLowerCase();if(t.startsWith(this.prefix)&&!this.scriptsLoaded.has(t)){let s=`${this.basePath}${t}.js`;this.insertScript(s),this.scriptsLoaded.add(t)}}insertScript(e){let t=document.createElement("script");t.src=e,t.type="module",t.async=!0,t.setAttribute("data-cfasync","false"),t.crossOrigin="anonymous",t.onload=()=>console.log(`${e} loaded.`),t.onerror=()=>console.error(`Failed to load ${e}`),document.head.appendChild(t)}debounce(e,t){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>e.apply(this,r),t)}}}document.addEventListener("DOMContentLoaded",()=>{let e=new ScriptLoader("bw-","/lit/js/");e.loadScripts();let t=new MutationObserver(t=>{let s=[];t.forEach(e=>{e.addedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&s.push(e)})}),s.forEach(t=>e.processElement(t))});t.observe(document.body,{childList:!0,subtree:!0})});